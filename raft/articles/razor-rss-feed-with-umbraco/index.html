<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Razor RSS Feed With Umbraco</title>
  <meta name="description" content="Here you will find the Razor markup to build your own RSS feed inside of Umbraco 7 and a few tips on some errors you may encounter when setting up your RSS f...">
  <link rel="canonical" href="http://localhost:4000/articles/razor-rss-feed-with-umbraco/">
  <link rel="alternate" type="application/rss+xml" title="HelloBlake Feed"
    href="http://localhost:4000/feed.xml">
  
  <link rel="shortcut icon" href="/images/favicon.png" type="image/png" />
  
  <!--Open Graph-->
  <meta property="og:title" content="Razor RSS Feed With Umbraco" />
  <meta property="twitter:title" content="Razor RSS Feed With Umbraco" />
  <meta property="og:description" content="Here you will find the Razor markup to build your own RSS feed inside of Umbraco 7 and a few tips on some errors you may encounter when setting up your RSS f..." />
  <meta property="twitter:description" content="Here you will find the Razor markup to build your own RSS feed inside of Umbraco 7 and a few tips on some errors you may encounter when setting up your RSS f..." />
  <meta property="og:type" content="" />
  <meta property="twitter:card" content="summary" />
  <meta property="og:url" content="http://localhost:4000/articles/razor-rss-feed-with-umbraco/" />
  <meta property="twitter:url" content="http://localhost:4000/articles/razor-rss-feed-with-umbraco/" />
  <meta property="og:locale" content="en_US" />
  
  <!-- Styles -->
  <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i%7CNoto+Serif:400,400i,700,700i&display=swap" rel="stylesheet">
  <link href="/assets/css/style.css" rel="stylesheet">
</head>
<body>
  <a href="#content" class="visually-hidden-focusable">Skip to Main Content</a>

  <div id="page" class="site">
    <div class="inner">
      <header class="site-header">
  
  <p class="site-title"><a class="logo-text" href="/">HelloBlake</a></p>
  
  <nav class="site-navigation">
    <div class="site-navigation-wrap">
      <h2 class="screen-reader-text">Main navigation</h2>
      <ul class="menu">
        
        
        
        <li class="menu-item ">
          <a class="" href="/about/">About</a>
        </li>
        
        
        
        <li class="menu-item ">
          <a class="" href="/community/">Community</a>
        </li>
        
        
        
        <li class="menu-item ">
          <a class="" href="/resume/">Resume</a>
        </li>
        
        
        
        <li class="menu-item ">
          <a class="" href="/archive/">Archive</a>
        </li>
        
        
        
        <li class="menu-item ">
          <a class="" href="mailto:hi@helloblake.com">Contact</a>
        </li>
        
      </ul><!-- .menu -->
      <button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span
          class="icon-close" aria-hidden="true"></span></button>
    </div><!-- .site-navigation-wrap -->
  </nav><!-- .site-navigation -->
  <button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
</header>


      <div id="content">
        <main class="main-content fadeInDown delay_075s">

  <article class="post">
    <header class="post-header">
      <time class="post-date" datetime="2014-09-05">September 5, 2014</time>
      <h1 class="post-title">Razor RSS Feed With Umbraco</h1>
      <div class="post-meta">
        By <span class="post-author">Blake Watt</span><span class="post-tags"> in <a href="/archive/#umbraco4" rel="tag">umbraco4</a></span>
      </div><!-- .post-meta -->
      
    </header><!-- .post-header -->
    <div class="post-content">
      
      
      
        <div class="alert alert-warning" role="alert">
    <p>This article is outdated and while some concepts may apply, the code samples may not work.</p>
</div>
      
      <p>First let’s make sure we have a node in the Content section that has the RSS template assigned to it.</p>

<!--more-->

<figure class="image-card width-wide caption">
  <img src="/images/posts/2014-09-05/rss-node.jpg" alt="" class="img-accent" />
  
</figure>

<p>In the Settings section make sure your new template has no master since this page should act as a standalone page.</p>

<figure class="image-card width-wide caption">
  <img src="/images/posts/2014-09-05/rss-template.png" alt="" class="img-accent" />
  
</figure>

<p>The markup used for generating an RSS feed in Umbraco 7 is as follows:</p>

<pre><code class="language-cshtml">@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    Layout = null;
}&lt;?xml version="1.0" encoding="UTF-8"?&gt;
@{
	umbraco.library.ChangeContentType("text/xml");		
	var siteURL = "http://" +  Request.Url.Host.ToString();
	var rssPage = CurrentPage.AncestorOrSelf(1).Rss.First();
	var articles = CurrentPage.AncestorOrSelf(1).Blog.First().Children.OrderBy("date desc");
}	
	&lt;rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"&gt;
    &lt;channel&gt;
        &lt;atom:link href="@siteURL/rss" rel="self" type="application/rss+xml" /&gt;
        &lt;title&gt;@rssPage.title&lt;/title&gt;
        @Html.Raw("&lt;link&gt;")@siteURL@Html.Raw("&lt;/link&gt;")
        &lt;description&gt;@rssPage.description&lt;/description&gt;
        &lt;pubDate&gt;@String.Format("{0:ddd, dd MMM yyyy HH:mm:ss} EST", @rssPage.CreateDate)&lt;/pubDate&gt;
        &lt;lastBuildDate&gt;@String.Format("{0:ddd, dd MMM yyyy HH:mm:ss} EST", DateTime.Now)&lt;/lastBuildDate&gt;
        &lt;language&gt;en&lt;/language&gt;
        &lt;generator&gt;Umbraco&lt;/generator&gt;
 
        @foreach (var article in articles)
        {
            &lt;item&gt;
                &lt;title&gt;
                    @if (article.HasValue("title"))
                    {@article.title}
                    else
                    {@article.Name}
                &lt;/title&gt;
                @Html.Raw("&lt;link&gt;")@siteURL@article.Url@Html.Raw("&lt;/link&gt;")
                &lt;description&gt;@article.previewText&lt;/description&gt;
                &lt;pubDate&gt;@String.Format("{0:ddd, dd MMM yyyy} {1:HH:mm:ss} EST", @article.date, @article.CreateDate)&lt;/pubDate&gt;
                &lt;guid&gt;@siteURL/@article.Id&lt;/guid&gt;
            &lt;/item&gt;
        }
    &lt;/channel&gt;
&lt;/rss&gt;
</code></pre>

<h2 id="common-issues">Common Issues</h2>

<p>One of the issues I ran into when building this was an error message “XML declaration allowed only at the start of the document”. What this message means is that if you don’t have your XML rendering right at line 1 of your document then it won’t work. You get no breaks here. You can check the source code of your rendered page to see where the XML starts.</p>

<figure class="image-card width-wide caption">
  <img src="/images/posts/2014-09-05/rss-template-source.png" alt="" class="img-accent" />
  
</figure>

<p>In the code you will see that the markup has the <code class="language-plaintext highlighter-rouge">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</code> tag directly after the initial layout declared on the template.</p>

<figure class="image-card width-wide caption">
  <img src="/images/posts/2014-09-05/xml-markup-start.png" alt="" class="img-accent" />
  
</figure>

<p>I wrote this razor directly on the template itself because when I used a partial view, my XML version declaration would appear on line 2 of my source code and I was getting the error I mentioned above. I found the only way to get my XML version declared on the first line was to put my code directly on the template. Typically I don’t recommend writing your razor scripts directly on your template but in this case we know this page is a one off, I know I won’t be using this RSS code anywhere else in my site, and I get an error if I try to put it into a partial view (again, only because of line spacing).</p>

<h2 id="break-down">Break Down</h2>

<p>Once we have declared our XML version we need to tell Umbraco that we want to change this content type to be text/xml. We can do this with <code class="language-plaintext highlighter-rouge">umbraco.library.ChangeContentType(“text/xml”)</code>. Now that we have this set up we need to define a couple variables that will make it easy to setup our RSS Feed. Here I’ve chosen to setup my siteURL, rssPage, and define my articles so I can loop through them. I know my Url Scheme is always going to be http so I’ve just gone ahead and ‘hard coded’ this into my siteURL variable. My rssPage variable returns my dynamic published content for my RSS page in my content tree and articles is returning my dynamic published content list of articles.</p>

<p>On line 11 is where my RSS feed starts. I’ve declared that I’m using RSS 2.0 and I’m ready to start declaring details of my channel. My rssPage has a title and description fields on it so I’m using those to manage the title and description for my RSS feed. In the code you will notice <code class="language-plaintext highlighter-rouge">@Html.Raw(“&lt;link&gt;”)</code> around the <code class="language-plaintext highlighter-rouge">&lt;link&gt;</code> tags. This is because link is a keyword in Razor and when I didn’t have this there I was getting an error in the application saying that my <code class="language-plaintext highlighter-rouge">&lt;rss&gt;</code> tag didn’t have a matching opening tag. Of course it did and my <code class="language-plaintext highlighter-rouge">&lt;rss&gt;</code> tag was not the issue. Keep that in mind if you run into that error too. My <code class="language-plaintext highlighter-rouge">&lt;pubDate&gt;</code> tags are using the article’s Created Date that is stored when the node is created in Umbraco. Since my date field is only a date picker and not a date picker with time I decided to use the time from the create date of the article to have some time stamp vs having all 00:00:00s as my time stamps.</p>

<p>There are a lot of channel elements that can be used in your RSS feed. For more details about the tags used here check out these links:</p>

<ol>
  <li><a href="http://cyber.law.harvard.edu/rss/index.html" target="_blank">http://cyber.law.harvard.edu/rss/index.html</a></li>
  <li><a href="http://www.w3schools.com/RSS/default.asp" target="_blank">http://www.w3schools.com/RSS/default.asp</a></li>
</ol>

<p>Good luck with your feed! If you run into any issues or setup your RSS feeds differently, let me know in the comments. I’d love to hear how you work in Umbraco.</p>

    </div><!-- .post-content -->
    <!-- <div class="post-share">
      <span>Share:</span>
      <a target="_blank"
        href="https://twitter.com/intent/tweet?text=Razor%20RSS%20Feed%20With%20Umbraco&amp;url=http://localhost:4000/articles/razor-rss-feed-with-umbraco/" rel="noopener">Twitter</a>
      <a target="_blank"
        href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/articles/razor-rss-feed-with-umbraco/&amp;t=Razor%20RSS%20Feed%20With%20Umbraco" rel="noopener">Facebook</a>
    </div> --><!-- .share-post -->
    <div class="author-box">
      
      <div class="author-avatar" style="background-image: url('/images/blake.jpg')"><span class="screen-reader-text">Blake Watt's Picture</span></div>
      
      <div class="author-details">
        <h2 class="author-title">About Blake Watt</h2>
        <div class="author-bio"><p>Umbraco Certified Master. Web Developer. Explorer. Motorcycle Rider. Weight Lifter. Snowboarder. Crazy Cat Lady.</p>
</div>
        
        <span class="author-location">Spokane, WA</span>
        
        
        <span class="author-website"><a href="http://helloblake.com" target="_blank" rel="noopener">http://helloblake.com</a></span>
        
      </div><!-- .author-details -->
    </div><!-- .author-box -->
  </article><!-- .post -->

  
    
      <div id="disqus_thread"></div>
<script>    
    var disqus_config = function () {
    this.page.url = 'https://helloblake.com/articles/razor-rss-feed-with-umbraco/';  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = '/articles/razor-rss-feed-with-umbraco/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    
    (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://helloblake.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script id="dsq-count-scr" src="//helloblake.disqus.com/count.js" async></script>
    
  

</main><!-- .main-content -->
      </div>
      <footer class="site-footer">
  <div class="offsite-links">
    
      
<a href="https://github.com/bkclerke" target="_blank" rel="noopener">
  <i class="fa-brands fa-github" aria-hidden="true"></i>
  <span class="screen-reader-text">GitHub</span>
</a>

<a href="https://www.linkedin.com/in/bkclerke/" target="_blank" rel="noopener">
  <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
  <span class="screen-reader-text">LinkedIn</span>
</a>

<a href="https://umbracocommunity.social/@helloblake" target="_blank" rel="me">
  <i class="fa-brands fa-mastodon" aria-hidden="true"></i>
  <span class="screen-reader-text">Mastodon</span>
</a>

<a href="http://discordapp.com/users/bkclerke" target="_blank" rel="noopener">
  <i class="fa-brands fa-discord" aria-hidden="true"></i>
  <span class="screen-reader-text">Discord</span>
</a>


    
  </div><!-- .offsite-links -->
  <div class="footer-bottom">
    <div class="site-info">
      <!-- 
 -->
      <p>&copy; 2025 HelloBlake</p>
    </div><!-- .site-info -->
    <a href="#page" id="back-to-top" class="back-to-top"><span class="screen-reader-text">Back to the top </span>&#8593;</a>
  </div><!-- .footer-bottom -->
</footer><!-- .site-footer -->

    </div><!-- .inner -->
  </div><!-- .site -->

  <!-- Scripts -->
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3CZEHJ16"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3CZEHJ16');
</script>
  
  <script src="/assets/js/plugins.js"></script>
  <script src="/assets/js/custom.js"></script>

</body>
</html>